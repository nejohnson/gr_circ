## RESISTORS #############################################

# ========================================================
# Interface
# ========================================================

define resistor {
# $1 = name, R1
# $2 = value, 10k
# $3 = orientation, one of [lrud]

  if ("$3" == "" || "$3" == "r" || "$3" == "l") then {
    resistorH($1,$2,$3)
  } else {
    resistorV($1,$2,$3)
  }
}

# ========================================================
# Horizontal resistors
# ========================================================

define resistorH {
  if ("$3" == "" || "$3" == "r") then {
    right
    resistorRL($1,$2,$3)
  } else {
    left
    resistorRL($1,$2,$3)
  }
}

define resistorRL {
  linethick = 1
$1: [
    # Symbol
    line 0.2
    box ht 0.15 wid 0.4
    { BODY: box invis ht 0.3 wid 0.4 with .c at last box.c }
    line 0.2
    
    # Labels
    {
      if ("$2" != "") then {
        "$1" "$2" "" at BODY.n
      } else {
        "$1" at BODY.n
      }
    }
  ]
}

# ========================================================
# Vertical resistors
# ========================================================

define resistorV {
  if ("$3" == "d" || "$3" == "dl") then {
    down
    resistorUD($1,$2,$3)
  } else {
    up
    resistorUD($1,$2,$3)
  }
}

define resistorUD {
  linethick = 1
  #down
$1: [
    # Symbol
    line 0.2
    box ht 0.4 wid 0.15
    { BODY: box invis ht 0.4 wid 0.4 with .c at last box.c }
    line 0.2
    
    # Labels
    {
      if ("$3" == "dl" || "$3" == "ul") then {
        if ("$2" != "") then {
          "$1" "$2" at BODY.w
        } else {
          "$1" at BODY.w
        }
      } else {
        if ("$2" != "") then {
          "$1" "$2" at BODY.e
        } else {
          "$1" at BODY.e
        }
      }
    }
  ]
}

##########################################################
